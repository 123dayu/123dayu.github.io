<!DOCTYPE HTML>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Python基础学习笔记(一) | Dayu | sCRiPt n00b</title>

  
  <meta name="author" content="大宇">
  

  
  <meta name="description" content="不如就给自己最后一次机会，奔向或许永远无法到达的理想中，死在路上。">
  

  
  <meta name="keywords" content="dayu,大宇,大宇的博客,网络">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Python基础学习笔记(一)">

  <meta property="og:site_name" content="Dayu">

  
  <meta property="og:image" content="/favicon.ico">
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Dayu" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Dayu</a>
    </h1>
    <p class="site-description">sCRiPt n00b</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/whoami">关于</a></li>
      
        <li><a href="/atom.xml">订阅</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>Python基础学习笔记(一)</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/PythonBasicStudyNotes1.html" rel="bookmark">
        <time class="entry-date published" datetime="2017-08-27T11:28:24.000Z">
          2017-08-27
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h2 id="一、Python基础"><a href="#一、Python基础" class="headerlink" title="一、Python基础"></a>一、Python基础</h2><h3 id="0x01-运行机制"><a href="#0x01-运行机制" class="headerlink" title="0x01 运行机制"></a>0x01 运行机制</h3><ul>
<li>python解释型语言，因此在运行时解释器将源码转换为字节码，然后再由解释器来执行这些字节码。虚拟机执行脚本:1.完成模块的加载和链接；2.将源代码翻译为PyCodeObject对象（这货就是字节码），并将其写入内存当中（方便CPU读取，起到加速程序运行的作用）；3.从上述内存空间中读取指令并执行；4. 程序结束后，根据命令行调用情况（即运行程序的方式）决定是否将PyCodeObject写回硬盘当中（也就是 直接复制到.pyc或.pyo文件中）；5.之后若再次执行该脚本，则先检查本地是否有上述字节码文件。有则执行，否则重复上述步骤。</li>
</ul>
<a id="more"></a>
<h3 id="0x02-usr-bin-env-python-和-usr-bin-python"><a href="#0x02-usr-bin-env-python-和-usr-bin-python" class="headerlink" title="0x02 !/usr/bin/env python 和 #!/usr/bin/python"></a>0x02 !/usr/bin/env python 和 #!/usr/bin/python</h3><ul>
<li>#! /usr/bin/env python是防止用户没有把python安装在默认路径，它执行过程就是先到env设置中查找 python路径，然后调出对应解释器。而/usr/bin/python就是固定死了python的路径。一般推荐#!/usr/bin/env python 然后保存好之后在目录下chmod a+x hello.py，然后直接就可以运行啦。  其次加不加这个头有一个明显区别，如果加了这个头，运行xxx.py可以切到目录下直接./xx.py，如果没有加 这个头则需要python ./xxx.py</li>
</ul>
<h3 id="0x03-if-name-‘main’-的解析"><a href="#0x03-if-name-‘main’-的解析" class="headerlink" title="0x03 if name == ‘main’: 的解析"></a>0x03 if name == ‘main’: 的解析</h3><ul>
<li>首先 if <strong>name</strong>==“<strong>main</strong>“ :是 程序的入口。</li>
<li>在python中，当一个module作为整体被执行时, moduel.<strong>name</strong> 的值将是 ”<strong>main</strong>” ；而当 一个module被其它module引用时， module.<strong>name</strong> 将是module自己的名字，当然一个module被 其它module引用时，其本身并不需要一个可执行的入口main了。可以说python中的这种用法很灵活 啊。（用于判断是不是本身执行的还是被别人导入的，如果是别人导入的话就执行就起到函数调用作 用，不会执行导入模块，这样好处就是我导入了你，但是我不想要你的输出，我只想要你模块里面部分 内容。如果不这样我导入了你你还输出显示我不想要的内容。）</li>
<li>用来检测该文件代码是否是主程序文件，也即非模块。从而可以避免执行不必要代码。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#代码1 </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">()</span>:</span></span><br><span class="line">	<span class="keyword">print</span> <span class="string">"test is running"</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">	<span class="keyword">print</span> <span class="string">"test main is working"</span></span><br><span class="line"><span class="comment">#代码2：</span></span><br><span class="line"><span class="keyword">import</span> untitled</span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">"__main__"</span>:</span><br><span class="line">	untitled.run()</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>如果是代码1单独运行的话下面的print会输出，但是如果被代码2导入的话，他只执行函数体，不执行if <strong>name</strong> 下面的。是用来检测该文件代码是否是主程序文件，也即非模块</p>
<ul>
<li>最简单理解这个问题就是 print  <strong>name</strong> ,如果是直接执行，那么 <strong>name</strong> 的值就是 <strong>main</strong> 。如果是被调用的执行的话，则值是被调用的那个脚本的名称。</li>
</ul>
<h3 id="0x04-其他"><a href="#0x04-其他" class="headerlink" title="0x04 其他"></a>0x04 其他</h3><ul>
<li>当语句以：结尾时，缩进的语句视为代码块。缩进有利有弊。好处是强迫你写出格式化的代码，但没有规定缩进是几个空格还是Tab。按照约定俗成的管理，应该始终坚持使用4个空格的缩进。缩进的另一个好处是强迫你写出缩进较少的代码，你会倾向于把一段很长的代码拆分成若干函数，从而得到缩进较少的代码。</li>
<li>Python程序是大小写敏感的，如果写错了大小写，程序会报错。</li>
<li>Python中的变量不需要声明，可以直接输入：a=10;那么你的内存里就有了一个变量a， 它的值是10， 它的类型是integer (整数)。 在此之前你不需要做什么特别的声明，而数据类型是Python自动决定的。</li>
</ul>
<h2 id="二、Python数据类型"><a href="#二、Python数据类型" class="headerlink" title="二、Python数据类型"></a>二、Python数据类型</h2><h3 id="0x01-列表"><a href="#0x01-列表" class="headerlink" title="0x01 列表"></a>0x01 列表</h3><ul>
<li><p>简介<br>列表就是可变的数组，之所以是可变的是因为随随便便就可以增加和减少操作。形式如下:list = []。 访 问列表主要是索引和切片，索引从左到右第一个是0，从右到左第一个是-1；切片包含起始的数字，但 不包含末尾的数字。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Example:(访问列表两种方式，单个元素访问通常下标，多个元素访问通常切片。)</span><br><span class="line">	list=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">4</span>]</span><br><span class="line">	<span class="keyword">print</span> list[<span class="number">0</span>],list[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">	<span class="keyword">print</span> list[::<span class="number">-1</span>]  步长切片</span><br><span class="line">Result: <span class="number">1</span>    [<span class="number">2</span>,<span class="number">9</span>]    </span><br><span class="line">	[<span class="number">4</span>，<span class="number">9</span>，<span class="number">2</span>，<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>追加</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Example1:（单一追加）</span><br><span class="line">	dota=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">	dota.append(<span class="number">9</span>) </span><br><span class="line">	<span class="keyword">print</span> dota </span><br><span class="line">Result: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">9</span>] </span><br><span class="line"></span><br><span class="line">Example2: (列表和列表之间追加) </span><br><span class="line">	  dota1=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">	  dota2=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>] </span><br><span class="line">	  dota1.extend(dota2) </span><br><span class="line">Result: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line">Example3: (+连接，*重复) </span><br><span class="line">	  dota1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>] </span><br><span class="line">	  dota2 = [<span class="number">3</span>,<span class="number">4</span>] </span><br><span class="line">	  dota3 = dota1+dota2 </span><br><span class="line">	  dota4 = dota2*<span class="number">2</span> </span><br><span class="line">	  <span class="keyword">print</span> dota3,dota4</span><br><span class="line">Result: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>] [<span class="number">3</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>插入指定位置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example:</span><br><span class="line">	dota=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">	dota.insert(<span class="number">2</span>,<span class="number">9</span>) </span><br><span class="line">	<span class="keyword">print</span> dota </span><br><span class="line">Result: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>,<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>删除列表元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Example1:（删除末尾元素）</span><br><span class="line">	dota=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">	dota.pop()</span><br><span class="line">	<span class="keyword">print</span> dota</span><br><span class="line">Result: [<span class="number">1</span>,<span class="number">2</span>] </span><br><span class="line"></span><br><span class="line">Example2:（删除指定位置的元素）</span><br><span class="line">	dota=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">	dota.pop(<span class="number">0</span>) </span><br><span class="line">	<span class="keyword">print</span> dota</span><br><span class="line">Result: [<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">Example3:（<span class="keyword">del</span>通过下标删除序列元素）</span><br><span class="line">	dota=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">	<span class="keyword">del</span> dota[<span class="number">0</span>] </span><br><span class="line">	<span class="keyword">print</span> dota </span><br><span class="line">Result: [<span class="number">2</span>,<span class="number">3</span>] </span><br><span class="line">Example4: (remove删除指定元素,ps用于移除列表中某个值的第一个匹配项) </span><br><span class="line">	dota=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">4</span>]</span><br><span class="line">	dota.remove(<span class="number">4</span>)</span><br><span class="line">Result:dota[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">4</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>统计列表元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example:(统计列表中元素出现的次数) </span><br><span class="line">	dota=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>] </span><br><span class="line">	num=dota.count(<span class="number">4</span>) </span><br><span class="line">	<span class="keyword">print</span> num </span><br><span class="line">Result: <span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>查找元素返回其第一次出现的下标</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example:</span><br><span class="line">	dota = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>]</span><br><span class="line">	num=dota.index(<span class="number">2</span>) </span><br><span class="line">	<span class="keyword">print</span> num </span><br><span class="line">Result: <span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>列表其他技巧</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Example1:列表嵌套列表，形成二维数组 </span><br><span class="line">	s = [<span class="string">'python'</span>, <span class="string">'java'</span>, [<span class="string">'asp'</span>, <span class="string">'php'</span>], <span class="string">'scheme'</span>]</span><br><span class="line">	s[<span class="number">2</span>][<span class="number">1</span>] </span><br><span class="line">Result: php </span><br><span class="line"></span><br><span class="line">Example2:列表中数据类型可以混杂 </span><br><span class="line">	s = [<span class="string">'python'</span>,<span class="number">1</span>，<span class="literal">True</span>] </span><br><span class="line"></span><br><span class="line">Example3:其他数据类型转换成列表(也可以说是列表的其他写法) </span><br><span class="line">	d=list(<span class="string">'abcd'</span>) </span><br><span class="line">	<span class="keyword">print</span> d,type(d) </span><br><span class="line">Result: [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>]  &lt;type <span class="string">'list'</span>&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="0x02-元组"><a href="#0x02-元组" class="headerlink" title="0x02 元组"></a>0x02 元组</h3><ul>
<li><p>简介<br>元组是不可变数组，因此当定义一个tuple时候它的元素就必须被确定下来，不能改变；list和tuple区别 主要表现在list可以变能给下标赋值修改，而tuple不能；因此tuple不可变代码更安全，如果可能，能用 tuple代替list就尽量用tuple,比如你写了一个API，然后要交给别人来对接，但是你想保证你的代码的安 全以及不想让别人动你的代码，此时tuple就是相对合适的选择。 </p>
</li>
<li><p>查找元素返回其第一次出现的下标</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example:</span><br><span class="line">	dota = (<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>)</span><br><span class="line">	num=dota.index(<span class="number">2</span>)</span><br><span class="line">	<span class="keyword">print</span> num</span><br><span class="line">Result: <span class="number">2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>统计元组中元素出现的次数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Example: </span><br><span class="line">	dota=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>)</span><br><span class="line">	num=dota.count(<span class="number">4</span>) </span><br><span class="line">	<span class="keyword">print</span> num </span><br><span class="line">Result: <span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>元组其他技巧</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Example1: 其他类型转换成元组</span><br><span class="line">	a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">	b=tuple(a) </span><br><span class="line">	<span class="keyword">print</span> b </span><br><span class="line">Result:  (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>) </span><br><span class="line"></span><br><span class="line">Example2: 区别点 </span><br><span class="line">	a= (<span class="number">4</span>)    类型type(a)是int </span><br><span class="line">	a=(<span class="number">4</span>,)    类型type(a)是tuple</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="0x03-字典"><a href="#0x03-字典" class="headerlink" title="0x03 字典"></a>0x03 字典</h3><ul>
<li>简介<br>格式如下:d = {key1 : value1, key2 : value2 }  方法.keys()返回字典所有键的列表，.items()返回字典所有值的列表。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">常用方法: </span><br><span class="line">Example1：访问元素</span><br><span class="line">	a=&#123;<span class="string">'1'</span>:<span class="string">'dota'</span>,<span class="string">'2'</span>:<span class="string">'dota2'</span>&#125; </span><br><span class="line">	a[<span class="string">'1'</span>] </span><br><span class="line">Result:‘dota’ </span><br><span class="line"></span><br><span class="line">Example2: </span><br><span class="line">	a=&#123;<span class="string">'1'</span>:<span class="string">'dota'</span>,<span class="string">'2'</span>:<span class="string">'dota2'</span>&#125;</span><br><span class="line">	a[a.keys()[<span class="number">0</span>]]</span><br><span class="line">	Result：dota </span><br><span class="line"></span><br><span class="line">Example3:</span><br><span class="line">	a.items显示所有元素 </span><br><span class="line">	<span class="keyword">for</span> k，v <span class="keyword">in</span> d.iteritems():迭代列生成 </span><br><span class="line">	<span class="keyword">print</span> k ,v </span><br><span class="line"></span><br><span class="line">Example4: </span><br><span class="line">	dict(zip(‘abc’,range(<span class="number">2</span>)))字典生成 </span><br><span class="line">	&#123;k:v <span class="keyword">for</span> k,v <span class="keyword">in</span> zip(“abc”,range(<span class="number">3</span>))&#125;生成字典</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="三、Python文件操作"><a href="#三、Python文件操作" class="headerlink" title="三、Python文件操作"></a>三、Python文件操作</h2><h3 id="0x01-读文件"><a href="#0x01-读文件" class="headerlink" title="0x01 读文件"></a>0x01 读文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+ 文本模式【r ASCll编码】</span><br><span class="line">	<span class="keyword">with</span> open(<span class="string">'password.txt'</span>,<span class="string">'r'</span>) <span class="keyword">as</span> f：   <span class="comment">#使用这种方式打开文件，不用考虑close()</span></span><br><span class="line">	 <span class="keyword">print</span> f.read() <span class="comment">#一次读取所有内容，返回str（在列知道文件大小下别随便用，万一大于自己内存的大小直接爆） </span></span><br><span class="line">	 <span class="keyword">print</span> f.read(<span class="number">1</span>)              <span class="comment">#读取第一个字符</span></span><br><span class="line">	 <span class="keyword">print</span> f.readline()          <span class="comment">#读取每行内容</span></span><br><span class="line">	 <span class="keyword">print</span> f.readlines()        <span class="comment">#一次读取所有行内容，返回list</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+ 二进制模式   【rb 图片，视频等】 </span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'mm.jpg'</span>,<span class="string">'rb'</span>) <span class="keyword">as</span> fr: </span><br><span class="line">     fr.read() </span><br><span class="line">Result:<span class="string">'\xff\xd8\xff\xe1\x00\x18Exif\x00\x00...'</span></span><br><span class="line">ps：如果读取非ascll编码文件，就必须用二进制模式打开，然后再解码，但是解码会很麻烦，因此可以使用codecs</span><br><span class="line"><span class="keyword">import</span> codecs </span><br><span class="line"><span class="keyword">with</span> codecs.open(<span class="string">'mm.jpg'</span>.<span class="string">'rb'</span>,<span class="string">'gbk'</span>) <span class="keyword">as</span> fr: </span><br><span class="line">	fr.read() </span><br><span class="line">Result:<span class="string">u'\u6d4b\u8bd5'</span></span><br></pre></td></tr></table></figure>
<h3 id="0x02-写文件"><a href="#0x02-写文件" class="headerlink" title="0x02 写文件"></a>0x02 写文件</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">"password.txt"</span>,<span class="string">'w'</span>) <span class="keyword">as</span> fw: </span><br><span class="line">	fw.write(<span class="string">'Dota'</span>) <span class="comment">#注意每次写会覆盖掉前一次。</span></span><br></pre></td></tr></table></figure>
<h3 id="0x03-其他读写方式"><a href="#0x03-其他读写方式" class="headerlink" title="0x03 其他读写方式"></a>0x03 其他读写方式</h3><p>r 只读不可写（默认如果不写就是r）<br>w 只写（如果用w会把之前内容清空掉）<br>a 追加（自动添加在文件的末尾）<br>r+ 可读可写，若文件不存在，报错<br>w+ 可读可写，若文件不存在，创建<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">对文件读写操作优雅写法</span><br><span class="line"><span class="keyword">try</span>: </span><br><span class="line">	<span class="keyword">with</span> open(<span class="string">'password.txt'</span>,<span class="string">'r'</span>) <span class="keyword">as</span> fr,open(<span class="string">'save.txt'</span>,<span class="string">'w'</span>) <span class="keyword">as</span> fw：</span><br><span class="line">	<span class="keyword">for</span> line <span class="keyword">in</span> fr: </span><br><span class="line">	fw.write(line.lstrip(<span class="string">'/'</span>))</span><br><span class="line">	fw.flush() </span><br><span class="line"><span class="keyword">except</span> IOError, e: </span><br><span class="line">	<span class="keyword">pass</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">对文件的读取并且自动去换行优雅写法 </span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'1.txt'</span>,<span class="string">'r'</span>) <span class="keyword">as</span> fr: </span><br><span class="line">	data = [line.strip() <span class="keyword">for</span> line <span class="keyword">in</span> fr.readlines()] </span><br><span class="line"><span class="keyword">print</span> data</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">减压读取文件优雅写法</span><br><span class="line">with open(&apos;1.txt&apos;,&apos;r&apos;) as fr: </span><br><span class="line">    for i in fr: </span><br><span class="line">		print i </span><br><span class="line"></span><br><span class="line">with open(&apos;1.txt&apos;,&apos;r&apos;)as fr: </span><br><span class="line">	for i in fr.readlines(): </span><br><span class="line">		print i </span><br><span class="line">#虽然都能读取文件，但是当文件数量大的时候第一种明显不合适。</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">同时读取多个文件 </span><br><span class="line"><span class="keyword">with</span> open(filename1) <span class="keyword">as</span> fp1, open(filename2) <span class="keyword">as</span> fp2, open(filename3) <span class="keyword">as</span> fp3:</span><br><span class="line">	<span class="keyword">for</span> l1 <span class="keyword">in</span> fp1: </span><br><span class="line">		l2 = fp2.readline() </span><br><span class="line">		l3 = fp3.readline()</span><br></pre></td></tr></table></figure>
<h3 id="0x04-备注"><a href="#0x04-备注" class="headerlink" title="0x04 备注"></a>0x04 备注</h3><ul>
<li>结尾换行标志(通过os.linesep获取当前系统换行标志)  Linux \n  Mac \r  Windows \r\n</li>
<li>文件使用完毕后必须关闭，因为文件对象会占用操作系统的资源，并且操作系统同一时间能打开的文件 数量也 是有限的，由于文件读写时都有可能产生IOError，一旦出错，后面的f.close()就不会调用。所 以，为了保证无论是否出错都能正确地关闭文件，我们可以使用try … ﬁnally来实现,但是这样不够优 美，因此用with…as方式最合适。</li>
<li>readline和readlines如果不对每一行空白字符做处理，然后print输出的话，每一行输出的末尾会有两个换行，一个是读取附带的，还一个是print带的，因为print自带一个换行，如果不希望print带换行，则输出的时候末尾加个逗号。</li>
<li>fr.name 输出当前文件名  fr.ﬂush() 刷新  fw.truncate() 清空文件</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Python/">Python</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Python/">Python</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    <br>
    
    &copy; 2019 大宇
    
  </p>
</footer>
    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-135378097-1', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
</body>
</html>